import{i as ct,k as he,l as ft,o as Ue,K as ge,j as le,n as be,r as Z,U as tt,M as se,O as Nt,a0 as Oe,N as rt,R as D}from"./index-BsLci0hp.js";var[Ut,yt]=ct({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[qt,Ee]=ct({strict:!1,name:"FormControlContext"});function Mt(e){const{id:s,isRequired:t,isInvalid:l,isDisabled:i,isReadOnly:n,...f}=e,v=Z.useId(),_=s||`field-${v}`,A=`${_}-label`,b=`${_}-feedback`,h=`${_}-helptext`,[L,U]=Z.useState(!1),[C,te]=Z.useState(!1),[I,$]=Z.useState(!1),m=Z.useCallback((E={},P=null)=>({id:h,...E,ref:tt(P,X=>{X&&te(!0)})}),[h]),K=Z.useCallback((E={},P=null)=>({...E,ref:P,"data-focus":se(I),"data-disabled":se(i),"data-invalid":se(l),"data-readonly":se(n),id:E.id!==void 0?E.id:A,htmlFor:E.htmlFor!==void 0?E.htmlFor:_}),[_,i,I,l,n,A]),z=Z.useCallback((E={},P=null)=>({id:b,...E,ref:tt(P,X=>{X&&U(!0)}),"aria-live":"polite"}),[b]),S=Z.useCallback((E={},P=null)=>({...E,...f,ref:P,role:"group","data-focus":se(I),"data-disabled":se(i),"data-invalid":se(l),"data-readonly":se(n)}),[f,i,I,l,n]),re=Z.useCallback((E={},P=null)=>({...E,ref:P,role:"presentation","aria-hidden":!0,children:E.children||"*"}),[]);return{isRequired:!!t,isInvalid:!!l,isReadOnly:!!n,isDisabled:!!i,isFocused:!!I,onFocus:()=>$(!0),onBlur:()=>$(!1),hasFeedbackText:L,setHasFeedbackText:U,hasHelpText:C,setHasHelpText:te,id:_,labelId:A,feedbackId:b,helpTextId:h,htmlProps:f,getHelpTextProps:m,getErrorMessageProps:z,getRootProps:S,getLabelProps:K,getRequiredIndicatorProps:re}}var Bt=he(function(s,t){const l=ft("Form",s),i=Ue(s),{getRootProps:n,htmlProps:f,...v}=Mt(i),_=ge("chakra-form-control",s.className);return le.jsx(qt,{value:v,children:le.jsx(Ut,{value:l,children:le.jsx(be.div,{...n({},t),className:_,__css:l.container})})})});Bt.displayName="FormControl";var Ht=he(function(s,t){const l=Ee(),i=yt(),n=ge("chakra-form__helper-text",s.className);return le.jsx(be.div,{...l==null?void 0:l.getHelpTextProps(s,t),__css:i.helperText,className:n})});Ht.displayName="FormHelperText";var jt=he(function(s,t){var l;const i=Nt("FormLabel",s),n=Ue(s),{className:f,children:v,requiredIndicator:_=le.jsx(vt,{}),optionalIndicator:A=null,...b}=n,h=Ee(),L=(l=h==null?void 0:h.getLabelProps(b,t))!=null?l:{ref:t,...b};return le.jsxs(be.label,{...L,className:ge("chakra-form__label",n.className),__css:{display:"block",textAlign:"start",...i},children:[v,h!=null&&h.isRequired?_:A]})});jt.displayName="FormLabel";var vt=he(function(s,t){const l=Ee(),i=yt();if(!(l!=null&&l.isRequired))return null;const n=ge("chakra-form__required-indicator",s.className);return le.jsx(be.span,{...l==null?void 0:l.getRequiredIndicatorProps(s,t),__css:i.requiredIndicator,className:n})});vt.displayName="RequiredIndicator";function Wt(e){const{isDisabled:s,isInvalid:t,isReadOnly:l,isRequired:i,...n}=$t(e);return{...n,disabled:s,readOnly:l,required:i,"aria-invalid":Oe(t),"aria-required":Oe(i),"aria-readonly":Oe(l)}}function $t(e){var s,t,l;const i=Ee(),{id:n,disabled:f,readOnly:v,required:_,isRequired:A,isInvalid:b,isReadOnly:h,isDisabled:L,onFocus:U,onBlur:C,...te}=e,I=e["aria-describedby"]?[e["aria-describedby"]]:[];return i!=null&&i.hasFeedbackText&&(i!=null&&i.isInvalid)&&I.push(i.feedbackId),i!=null&&i.hasHelpText&&I.push(i.helpTextId),{...te,"aria-describedby":I.join(" ")||void 0,id:n??(i==null?void 0:i.id),isDisabled:(s=f??L)!=null?s:i==null?void 0:i.isDisabled,isReadOnly:(t=v??h)!=null?t:i==null?void 0:i.isReadOnly,isRequired:(l=_??A)!=null?l:i==null?void 0:i.isRequired,isInvalid:b??(i==null?void 0:i.isInvalid),onFocus:rt(i==null?void 0:i.onFocus,U),onBlur:rt(i==null?void 0:i.onBlur,C)}}var ht=he(function(s,t){const{htmlSize:l,...i}=s,n=ft("Input",i),f=Ue(i),v=Wt(f),_=ge("chakra-input",s.className);return le.jsx(be.input,{size:l,...v,__css:n.field,ref:t,className:_})});ht.displayName="Input";ht.id="Input";var _e=e=>e.type==="checkbox",oe=e=>e instanceof Date,q=e=>e==null;const gt=e=>typeof e=="object";var T=e=>!q(e)&&!Array.isArray(e)&&gt(e)&&!oe(e),bt=e=>T(e)&&e.target?_e(e.target)?e.target.checked:e.target.value:e,Kt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,_t=(e,s)=>e.has(Kt(s)),zt=e=>{const s=e.constructor&&e.constructor.prototype;return T(s)&&s.hasOwnProperty("isPrototypeOf")},qe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function M(e){let s;const t=Array.isArray(e);if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(qe&&(e instanceof Blob||e instanceof FileList))&&(t||T(e)))if(s=t?[]:{},!t&&!zt(e))s=e;else for(const l in e)e.hasOwnProperty(l)&&(s[l]=M(e[l]));else return e;return s}var Fe=e=>Array.isArray(e)?e.filter(Boolean):[],w=e=>e===void 0,d=(e,s,t)=>{if(!s||!T(e))return t;const l=Fe(s.split(/[,[\].]+?/)).reduce((i,n)=>q(i)?i:i[n],e);return w(l)||l===e?w(e[s])?t:e[s]:l},J=e=>typeof e=="boolean";const ke={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Q={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ee={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Gt=D.createContext(null),Me=()=>D.useContext(Gt);var Ft=(e,s,t,l=!0)=>{const i={defaultValues:s._defaultValues};for(const n in e)Object.defineProperty(i,n,{get:()=>{const f=n;return s._proxyFormState[f]!==Q.all&&(s._proxyFormState[f]=!l||Q.all),t&&(t[f]=!0),e[f]}});return i},H=e=>T(e)&&!Object.keys(e).length,mt=(e,s,t,l)=>{t(e);const{name:i,...n}=e;return H(n)||Object.keys(n).length>=Object.keys(s).length||Object.keys(n).find(f=>s[f]===(!l||Q.all))},Ve=e=>Array.isArray(e)?e:[e],xt=(e,s,t)=>!e||!s||e===s||Ve(e).some(l=>l&&(t?l===s:l.startsWith(s)||s.startsWith(l)));function Be(e){const s=D.useRef(e);s.current=e,D.useEffect(()=>{const t=!e.disabled&&s.current.subject&&s.current.subject.subscribe({next:s.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function Jt(e){const s=Me(),{control:t=s.control,disabled:l,name:i,exact:n}=e||{},[f,v]=D.useState(t._formState),_=D.useRef(!0),A=D.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),b=D.useRef(i);return b.current=i,Be({disabled:l,next:h=>_.current&&xt(b.current,h.name,n)&&mt(h,A.current,t._updateFormState)&&v({...t._formState,...h}),subject:t._subjects.state}),D.useEffect(()=>(_.current=!0,A.current.isValid&&t._updateValid(!0),()=>{_.current=!1}),[t]),Ft(f,t,A.current,!1)}var Y=e=>typeof e=="string",Vt=(e,s,t,l,i)=>Y(e)?(l&&s.watch.add(e),d(t,e,i)):Array.isArray(e)?e.map(n=>(l&&s.watch.add(n),d(t,n))):(l&&(s.watchAll=!0),t);function Qt(e){const s=Me(),{control:t=s.control,name:l,defaultValue:i,disabled:n,exact:f}=e||{},v=D.useRef(l);v.current=l,Be({disabled:n,subject:t._subjects.values,next:b=>{xt(v.current,b.name,f)&&A(M(Vt(v.current,t._names,b.values||t._formValues,!1,i)))}});const[_,A]=D.useState(t._getWatch(l,i));return D.useEffect(()=>t._removeUnmounted()),_}var He=e=>/^\w*$/.test(e),At=e=>Fe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),k=(e,s,t)=>{let l=-1;const i=He(s)?[s]:At(s),n=i.length,f=n-1;for(;++l<n;){const v=i[l];let _=t;if(l!==f){const A=e[v];_=T(A)||Array.isArray(A)?A:isNaN(+i[l+1])?{}:[]}e[v]=_,e=e[v]}return e};function Xt(e){const s=Me(),{name:t,disabled:l,control:i=s.control,shouldUnregister:n}=e,f=_t(i._names.array,t),v=Qt({control:i,name:t,defaultValue:d(i._formValues,t,d(i._defaultValues,t,e.defaultValue)),exact:!0}),_=Jt({control:i,name:t}),A=D.useRef(i.register(t,{...e.rules,value:v,...J(e.disabled)?{disabled:e.disabled}:{}}));return D.useEffect(()=>{const b=i._options.shouldUnregister||n,h=(L,U)=>{const C=d(i._fields,L);C&&(C._f.mount=U)};if(h(t,!0),b){const L=M(d(i._options.defaultValues,t));k(i._defaultValues,t,L),w(d(i._formValues,t))&&k(i._formValues,t,L)}return()=>{(f?b&&!i._state.action:b)?i.unregister(t):h(t,!1)}},[t,i,f,n]),D.useEffect(()=>{d(i._fields,t)&&i._updateDisabledField({disabled:l,fields:i._fields,name:t,value:d(i._fields,t)._f.value})},[l,t,i]),{field:{name:t,value:v,...J(l)||_.disabled?{disabled:_.disabled||l}:{},onChange:D.useCallback(b=>A.current.onChange({target:{value:bt(b),name:t},type:ke.CHANGE}),[t]),onBlur:D.useCallback(()=>A.current.onBlur({target:{value:d(i._formValues,t),name:t},type:ke.BLUR}),[t,i]),ref:b=>{const h=d(i._fields,t);h&&b&&(h._f.ref={focus:()=>b.focus(),select:()=>b.select(),setCustomValidity:L=>b.setCustomValidity(L),reportValidity:()=>b.reportValidity()})}},formState:_,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!d(_.errors,t)},isDirty:{enumerable:!0,get:()=>!!d(_.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!d(_.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!d(_.validatingFields,t)},error:{enumerable:!0,get:()=>d(_.errors,t)}})}}const yr=e=>e.render(Xt(e));var Yt=(e,s,t,l,i)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[l]:i||!0}}:{},st=e=>({isOnSubmit:!e||e===Q.onSubmit,isOnBlur:e===Q.onBlur,isOnChange:e===Q.onChange,isOnAll:e===Q.all,isOnTouch:e===Q.onTouched}),it=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(l=>e.startsWith(l)&&/^\.\w+/.test(e.slice(l.length))));const ve=(e,s,t,l)=>{for(const i of t||Object.keys(e)){const n=d(e,i);if(n){const{_f:f,...v}=n;if(f){if(f.refs&&f.refs[0]&&s(f.refs[0],i)&&!l)break;if(f.ref&&s(f.ref,f.name)&&!l)break;ve(v,s)}else T(v)&&ve(v,s)}}};var Zt=(e,s,t)=>{const l=Fe(d(e,t));return k(l,"root",s[t]),k(e,t,l),e},je=e=>e.type==="file",ie=e=>typeof e=="function",De=e=>{if(!qe)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},Ae=e=>Y(e),We=e=>e.type==="radio",we=e=>e instanceof RegExp;const lt={value:!1,isValid:!1},at={value:!0,isValid:!0};var kt=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!w(e[0].attributes.value)?w(e[0].value)||e[0].value===""?at:{value:e[0].value,isValid:!0}:at:lt}return lt};const nt={isValid:!1,value:null};var Dt=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,nt):nt;function ut(e,s,t="validate"){if(Ae(e)||Array.isArray(e)&&e.every(Ae)||J(e)&&!e)return{type:t,message:Ae(e)?e:"",ref:s}}var ue=e=>T(e)&&!we(e)?e:{value:e,message:""},ot=async(e,s,t,l,i)=>{const{ref:n,refs:f,required:v,maxLength:_,minLength:A,min:b,max:h,pattern:L,validate:U,name:C,valueAsNumber:te,mount:I,disabled:$}=e._f,m=d(s,C);if(!I||$)return{};const K=f?f[0]:n,z=F=>{l&&K.reportValidity&&(K.setCustomValidity(J(F)?"":F||""),K.reportValidity())},S={},re=We(n),E=_e(n),P=re||E,X=(te||je(n))&&w(n.value)&&w(m)||De(n)&&n.value===""||m===""||Array.isArray(m)&&!m.length,j=Yt.bind(null,C,t,S),me=(F,x,R,N=ee.maxLength,G=ee.minLength)=>{const W=F?x:R;S[C]={type:F?N:G,message:W,ref:n,...j(F?N:G,W)}};if(i?!Array.isArray(m)||!m.length:v&&(!P&&(X||q(m))||J(m)&&!m||E&&!kt(f).isValid||re&&!Dt(f).isValid)){const{value:F,message:x}=Ae(v)?{value:!!v,message:v}:ue(v);if(F&&(S[C]={type:ee.required,message:x,ref:K,...j(ee.required,x)},!t))return z(x),S}if(!X&&(!q(b)||!q(h))){let F,x;const R=ue(h),N=ue(b);if(!q(m)&&!isNaN(m)){const G=n.valueAsNumber||m&&+m;q(R.value)||(F=G>R.value),q(N.value)||(x=G<N.value)}else{const G=n.valueAsDate||new Date(m),W=fe=>new Date(new Date().toDateString()+" "+fe),de=n.type=="time",ce=n.type=="week";Y(R.value)&&m&&(F=de?W(m)>W(R.value):ce?m>R.value:G>new Date(R.value)),Y(N.value)&&m&&(x=de?W(m)<W(N.value):ce?m<N.value:G<new Date(N.value))}if((F||x)&&(me(!!F,R.message,N.message,ee.max,ee.min),!t))return z(S[C].message),S}if((_||A)&&!X&&(Y(m)||i&&Array.isArray(m))){const F=ue(_),x=ue(A),R=!q(F.value)&&m.length>+F.value,N=!q(x.value)&&m.length<+x.value;if((R||N)&&(me(R,F.message,x.message),!t))return z(S[C].message),S}if(L&&!X&&Y(m)){const{value:F,message:x}=ue(L);if(we(F)&&!m.match(F)&&(S[C]={type:ee.pattern,message:x,ref:n,...j(ee.pattern,x)},!t))return z(x),S}if(U){if(ie(U)){const F=await U(m,s),x=ut(F,K);if(x&&(S[C]={...x,...j(ee.validate,x.message)},!t))return z(x.message),S}else if(T(U)){let F={};for(const x in U){if(!H(F)&&!t)break;const R=ut(await U[x](m,s),K,x);R&&(F={...R,...j(x,R.message)},z(R.message),t&&(S[C]=F))}if(!H(F)&&(S[C]={ref:K,...F},!t))return S}}return z(!0),S};function er(e,s){const t=s.slice(0,-1).length;let l=0;for(;l<t;)e=w(e)?l++:e[s[l++]];return e}function tr(e){for(const s in e)if(e.hasOwnProperty(s)&&!w(e[s]))return!1;return!0}function p(e,s){const t=Array.isArray(s)?s:He(s)?[s]:At(s),l=t.length===1?e:er(e,t),i=t.length-1,n=t[i];return l&&delete l[n],i!==0&&(T(l)&&H(l)||Array.isArray(l)&&tr(l))&&p(e,t.slice(0,-1)),e}var Le=()=>{let e=[];return{get observers(){return e},next:i=>{for(const n of e)n.next&&n.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(n=>n!==i)}}),unsubscribe:()=>{e=[]}}},Se=e=>q(e)||!gt(e);function ae(e,s){if(Se(e)||Se(s))return e===s;if(oe(e)&&oe(s))return e.getTime()===s.getTime();const t=Object.keys(e),l=Object.keys(s);if(t.length!==l.length)return!1;for(const i of t){const n=e[i];if(!l.includes(i))return!1;if(i!=="ref"){const f=s[i];if(oe(n)&&oe(f)||T(n)&&T(f)||Array.isArray(n)&&Array.isArray(f)?!ae(n,f):n!==f)return!1}}return!0}var wt=e=>e.type==="select-multiple",rr=e=>We(e)||_e(e),Pe=e=>De(e)&&e.isConnected,St=e=>{for(const s in e)if(ie(e[s]))return!0;return!1};function Ce(e,s={}){const t=Array.isArray(e);if(T(e)||t)for(const l in e)Array.isArray(e[l])||T(e[l])&&!St(e[l])?(s[l]=Array.isArray(e[l])?[]:{},Ce(e[l],s[l])):q(e[l])||(s[l]=!0);return s}function Ct(e,s,t){const l=Array.isArray(e);if(T(e)||l)for(const i in e)Array.isArray(e[i])||T(e[i])&&!St(e[i])?w(s)||Se(t[i])?t[i]=Array.isArray(e[i])?Ce(e[i],[]):{...Ce(e[i])}:Ct(e[i],q(s)?{}:s[i],t[i]):t[i]=!ae(e[i],s[i]);return t}var xe=(e,s)=>Ct(e,s,Ce(s)),Et=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:l})=>w(e)?e:s?e===""?NaN:e&&+e:t&&Y(e)?new Date(e):l?l(e):e;function Ne(e){const s=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):s.disabled))return je(s)?s.files:We(s)?Dt(e.refs).value:wt(s)?[...s.selectedOptions].map(({value:t})=>t):_e(s)?kt(e.refs).value:Et(w(s.value)?e.ref.value:s.value,e)}var sr=(e,s,t,l)=>{const i={};for(const n of e){const f=d(s,n);f&&k(i,n,f._f)}return{criteriaMode:t,names:[...e],fields:i,shouldUseNativeValidation:l}},ye=e=>w(e)?e:we(e)?e.source:T(e)?we(e.value)?e.value.source:e.value:e,ir=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function dt(e,s,t){const l=d(e,t);if(l||He(t))return{error:l,name:t};const i=t.split(".");for(;i.length;){const n=i.join("."),f=d(s,n),v=d(e,n);if(f&&!Array.isArray(f)&&t!==n)return{name:t};if(v&&v.type)return{name:n,error:v};i.pop()}return{name:t}}var lr=(e,s,t,l,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(s||e):(t?l.isOnBlur:i.isOnBlur)?!e:(t?l.isOnChange:i.isOnChange)?e:!0,ar=(e,s)=>!Fe(d(e,s)).length&&p(e,s);const nr={mode:Q.onSubmit,reValidateMode:Q.onChange,shouldFocusError:!0};function ur(e={}){let s={...nr,...e},t={submitCount:0,isDirty:!1,isLoading:ie(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},l={},i=T(s.defaultValues)||T(s.values)?M(s.defaultValues||s.values)||{}:{},n=s.shouldUnregister?{}:M(i),f={action:!1,mount:!1,watch:!1},v={mount:new Set,unMount:new Set,array:new Set,watch:new Set},_,A=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Le(),array:Le(),state:Le()},L=st(s.mode),U=st(s.reValidateMode),C=s.criteriaMode===Q.all,te=r=>a=>{clearTimeout(A),A=setTimeout(r,a)},I=async r=>{if(b.isValid||r){const a=s.resolver?H((await P()).errors):await j(l,!0);a!==t.isValid&&h.state.next({isValid:a})}},$=(r,a)=>{(b.isValidating||b.validatingFields)&&((r||Array.from(v.mount)).forEach(u=>{u&&(a?k(t.validatingFields,u,a):p(t.validatingFields,u))}),h.state.next({validatingFields:t.validatingFields,isValidating:!H(t.validatingFields)}))},m=(r,a=[],u,y,c=!0,o=!0)=>{if(y&&u){if(f.action=!0,o&&Array.isArray(d(l,r))){const g=u(d(l,r),y.argA,y.argB);c&&k(l,r,g)}if(o&&Array.isArray(d(t.errors,r))){const g=u(d(t.errors,r),y.argA,y.argB);c&&k(t.errors,r,g),ar(t.errors,r)}if(b.touchedFields&&o&&Array.isArray(d(t.touchedFields,r))){const g=u(d(t.touchedFields,r),y.argA,y.argB);c&&k(t.touchedFields,r,g)}b.dirtyFields&&(t.dirtyFields=xe(i,n)),h.state.next({name:r,isDirty:F(r,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else k(n,r,a)},K=(r,a)=>{k(t.errors,r,a),h.state.next({errors:t.errors})},z=r=>{t.errors=r,h.state.next({errors:t.errors,isValid:!1})},S=(r,a,u,y)=>{const c=d(l,r);if(c){const o=d(n,r,w(u)?d(i,r):u);w(o)||y&&y.defaultChecked||a?k(n,r,a?o:Ne(c._f)):N(r,o),f.mount&&I()}},re=(r,a,u,y,c)=>{let o=!1,g=!1;const V={name:r},O=!!(d(l,r)&&d(l,r)._f.disabled);if(!u||y){b.isDirty&&(g=t.isDirty,t.isDirty=V.isDirty=F(),o=g!==V.isDirty);const B=O||ae(d(i,r),a);g=!!(!O&&d(t.dirtyFields,r)),B||O?p(t.dirtyFields,r):k(t.dirtyFields,r,!0),V.dirtyFields=t.dirtyFields,o=o||b.dirtyFields&&g!==!B}if(u){const B=d(t.touchedFields,r);B||(k(t.touchedFields,r,u),V.touchedFields=t.touchedFields,o=o||b.touchedFields&&B!==u)}return o&&c&&h.state.next(V),o?V:{}},E=(r,a,u,y)=>{const c=d(t.errors,r),o=b.isValid&&J(a)&&t.isValid!==a;if(e.delayError&&u?(_=te(()=>K(r,u)),_(e.delayError)):(clearTimeout(A),_=null,u?k(t.errors,r,u):p(t.errors,r)),(u?!ae(c,u):c)||!H(y)||o){const g={...y,...o&&J(a)?{isValid:a}:{},errors:t.errors,name:r};t={...t,...g},h.state.next(g)}},P=async r=>{$(r,!0);const a=await s.resolver(n,s.context,sr(r||v.mount,l,s.criteriaMode,s.shouldUseNativeValidation));return $(r),a},X=async r=>{const{errors:a}=await P(r);if(r)for(const u of r){const y=d(a,u);y?k(t.errors,u,y):p(t.errors,u)}else t.errors=a;return a},j=async(r,a,u={valid:!0})=>{for(const y in r){const c=r[y];if(c){const{_f:o,...g}=c;if(o){const V=v.array.has(o.name);$([y],!0);const O=await ot(c,n,C,s.shouldUseNativeValidation&&!a,V);if($([y]),O[o.name]&&(u.valid=!1,a))break;!a&&(d(O,o.name)?V?Zt(t.errors,O,o.name):k(t.errors,o.name,O[o.name]):p(t.errors,o.name))}g&&await j(g,a,u)}}return u.valid},me=()=>{for(const r of v.unMount){const a=d(l,r);a&&(a._f.refs?a._f.refs.every(u=>!Pe(u)):!Pe(a._f.ref))&&Re(r)}v.unMount=new Set},F=(r,a)=>(r&&a&&k(n,r,a),!ae($e(),i)),x=(r,a,u)=>Vt(r,v,{...f.mount?n:w(a)?i:Y(r)?{[r]:a}:a},u,a),R=r=>Fe(d(f.mount?n:i,r,e.shouldUnregister?d(i,r,[]):[])),N=(r,a,u={})=>{const y=d(l,r);let c=a;if(y){const o=y._f;o&&(!o.disabled&&k(n,r,Et(a,o)),c=De(o.ref)&&q(a)?"":a,wt(o.ref)?[...o.ref.options].forEach(g=>g.selected=c.includes(g.value)):o.refs?_e(o.ref)?o.refs.length>1?o.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(c)?!!c.find(V=>V===g.value):c===g.value)):o.refs[0]&&(o.refs[0].checked=!!c):o.refs.forEach(g=>g.checked=g.value===c):je(o.ref)?o.ref.value="":(o.ref.value=c,o.ref.type||h.values.next({name:r,values:{...n}})))}(u.shouldDirty||u.shouldTouch)&&re(r,c,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&fe(r)},G=(r,a,u)=>{for(const y in a){const c=a[y],o=`${r}.${y}`,g=d(l,o);(v.array.has(r)||!Se(c)||g&&!g._f)&&!oe(c)?G(o,c,u):N(o,c,u)}},W=(r,a,u={})=>{const y=d(l,r),c=v.array.has(r),o=M(a);k(n,r,o),c?(h.array.next({name:r,values:{...n}}),(b.isDirty||b.dirtyFields)&&u.shouldDirty&&h.state.next({name:r,dirtyFields:xe(i,n),isDirty:F(r,o)})):y&&!y._f&&!q(o)?G(r,o,u):N(r,o,u),it(r,v)&&h.state.next({...t}),h.values.next({name:f.mount?r:void 0,values:{...n}})},de=async r=>{f.mount=!0;const a=r.target;let u=a.name,y=!0;const c=d(l,u),o=()=>a.type?Ne(c._f):bt(r),g=V=>{y=Number.isNaN(V)||V===d(n,u,V)};if(c){let V,O;const B=o(),ne=r.type===ke.BLUR||r.type===ke.FOCUS_OUT,Ot=!ir(c._f)&&!s.resolver&&!d(t.errors,u)&&!c._f.deps||lr(ne,d(t.touchedFields,u),t.isSubmitted,U,L),Te=it(u,v,ne);k(n,u,B),ne?(c._f.onBlur&&c._f.onBlur(r),_&&_(0)):c._f.onChange&&c._f.onChange(r);const Ie=re(u,B,ne,!1),Lt=!H(Ie)||Te;if(!ne&&h.values.next({name:u,type:r.type,values:{...n}}),Ot)return b.isValid&&I(),Lt&&h.state.next({name:u,...Te?{}:Ie});if(!ne&&Te&&h.state.next({...t}),s.resolver){const{errors:Ze}=await P([u]);if(g(B),y){const Pt=dt(t.errors,l,u),et=dt(Ze,l,Pt.name||u);V=et.error,u=et.name,O=H(Ze)}}else $([u],!0),V=(await ot(c,n,C,s.shouldUseNativeValidation))[u],$([u]),g(B),y&&(V?O=!1:b.isValid&&(O=await j(l,!0)));y&&(c._f.deps&&fe(c._f.deps),E(u,O,V,Ie))}},ce=(r,a)=>{if(d(t.errors,a)&&r.focus)return r.focus(),1},fe=async(r,a={})=>{let u,y;const c=Ve(r);if(s.resolver){const o=await X(w(r)?r:c);u=H(o),y=r?!c.some(g=>d(o,g)):u}else r?(y=(await Promise.all(c.map(async o=>{const g=d(l,o);return await j(g&&g._f?{[o]:g}:g)}))).every(Boolean),!(!y&&!t.isValid)&&I()):y=u=await j(l);return h.state.next({...!Y(r)||b.isValid&&u!==t.isValid?{}:{name:r},...s.resolver||!r?{isValid:u}:{},errors:t.errors}),a.shouldFocus&&!y&&ve(l,ce,r?c:v.mount),y},$e=r=>{const a={...f.mount?n:i};return w(r)?a:Y(r)?d(a,r):r.map(u=>d(a,u))},Ke=(r,a)=>({invalid:!!d((a||t).errors,r),isDirty:!!d((a||t).dirtyFields,r),isTouched:!!d((a||t).touchedFields,r),isValidating:!!d((a||t).validatingFields,r),error:d((a||t).errors,r)}),Rt=r=>{r&&Ve(r).forEach(a=>p(t.errors,a)),h.state.next({errors:r?t.errors:{}})},ze=(r,a,u)=>{const y=(d(l,r,{_f:{}})._f||{}).ref;k(t.errors,r,{...a,ref:y}),h.state.next({name:r,errors:t.errors,isValid:!1}),u&&u.shouldFocus&&y&&y.focus&&y.focus()},pt=(r,a)=>ie(r)?h.values.subscribe({next:u=>r(x(void 0,a),u)}):x(r,a,!0),Re=(r,a={})=>{for(const u of r?Ve(r):v.mount)v.mount.delete(u),v.array.delete(u),a.keepValue||(p(l,u),p(n,u)),!a.keepError&&p(t.errors,u),!a.keepDirty&&p(t.dirtyFields,u),!a.keepTouched&&p(t.touchedFields,u),!a.keepIsValidating&&p(t.validatingFields,u),!s.shouldUnregister&&!a.keepDefaultValue&&p(i,u);h.values.next({values:{...n}}),h.state.next({...t,...a.keepDirty?{isDirty:F()}:{}}),!a.keepIsValid&&I()},Ge=({disabled:r,name:a,field:u,fields:y,value:c})=>{if(J(r)){const o=r?void 0:w(c)?Ne(u?u._f:d(y,a)._f):c;k(n,a,o),re(a,o,!1,!1,!0)}},pe=(r,a={})=>{let u=d(l,r);const y=J(a.disabled);return k(l,r,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:r}},name:r,mount:!0,...a}}),v.mount.add(r),u?Ge({field:u,disabled:a.disabled,name:r,value:a.value}):S(r,!0,a.value),{...y?{disabled:a.disabled}:{},...s.progressive?{required:!!a.required,min:ye(a.min),max:ye(a.max),minLength:ye(a.minLength),maxLength:ye(a.maxLength),pattern:ye(a.pattern)}:{},name:r,onChange:de,onBlur:de,ref:c=>{if(c){pe(r,a),u=d(l,r);const o=w(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,g=rr(o),V=u._f.refs||[];if(g?V.find(O=>O===o):o===u._f.ref)return;k(l,r,{_f:{...u._f,...g?{refs:[...V.filter(Pe),o,...Array.isArray(d(i,r))?[{}]:[]],ref:{type:o.type,name:r}}:{ref:o}}}),S(r,!1,void 0,o)}else u=d(l,r,{}),u._f&&(u._f.mount=!1),(s.shouldUnregister||a.shouldUnregister)&&!(_t(v.array,r)&&f.action)&&v.unMount.add(r)}}},Je=()=>s.shouldFocusError&&ve(l,ce,v.mount),Tt=r=>{J(r)&&(h.state.next({disabled:r}),ve(l,(a,u)=>{let y=r;const c=d(l,u);c&&J(c._f.disabled)&&(y||(y=c._f.disabled)),a.disabled=y},0,!1))},Qe=(r,a)=>async u=>{let y;u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let c=M(n);if(h.state.next({isSubmitting:!0}),s.resolver){const{errors:o,values:g}=await P();t.errors=o,c=g}else await j(l);if(p(t.errors,"root"),H(t.errors)){h.state.next({errors:{}});try{await r(c,u)}catch(o){y=o}}else a&&await a({...t.errors},u),Je(),setTimeout(Je);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:H(t.errors)&&!y,submitCount:t.submitCount+1,errors:t.errors}),y)throw y},It=(r,a={})=>{d(l,r)&&(w(a.defaultValue)?W(r,M(d(i,r))):(W(r,a.defaultValue),k(i,r,M(a.defaultValue))),a.keepTouched||p(t.touchedFields,r),a.keepDirty||(p(t.dirtyFields,r),t.isDirty=a.defaultValue?F(r,M(d(i,r))):F()),a.keepError||(p(t.errors,r),b.isValid&&I()),h.state.next({...t}))},Xe=(r,a={})=>{const u=r?M(r):i,y=M(u),c=H(r),o=c?i:y;if(a.keepDefaultValues||(i=u),!a.keepValues){if(a.keepDirtyValues)for(const g of v.mount)d(t.dirtyFields,g)?k(o,g,d(n,g)):W(g,d(o,g));else{if(qe&&w(r))for(const g of v.mount){const V=d(l,g);if(V&&V._f){const O=Array.isArray(V._f.refs)?V._f.refs[0]:V._f.ref;if(De(O)){const B=O.closest("form");if(B){B.reset();break}}}}l={}}n=e.shouldUnregister?a.keepDefaultValues?M(i):{}:M(o),h.array.next({values:{...o}}),h.values.next({values:{...o}})}v={mount:a.keepDirtyValues?v.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!b.isValid||!!a.keepIsValid||!!a.keepDirtyValues,f.watch=!!e.shouldUnregister,h.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:c?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!ae(r,i)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:c?[]:a.keepDirtyValues?a.keepDefaultValues&&n?xe(i,n):t.dirtyFields:a.keepDefaultValues&&r?xe(i,r):{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Ye=(r,a)=>Xe(ie(r)?r(n):r,a);return{control:{register:pe,unregister:Re,getFieldState:Ke,handleSubmit:Qe,setError:ze,_executeSchema:P,_getWatch:x,_getDirty:F,_updateValid:I,_removeUnmounted:me,_updateFieldArray:m,_updateDisabledField:Ge,_getFieldArray:R,_reset:Xe,_resetDefaultValues:()=>ie(s.defaultValues)&&s.defaultValues().then(r=>{Ye(r,s.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:r=>{t={...t,...r}},_disableForm:Tt,_subjects:h,_proxyFormState:b,_setErrors:z,get _fields(){return l},get _formValues(){return n},get _state(){return f},set _state(r){f=r},get _defaultValues(){return i},get _names(){return v},set _names(r){v=r},get _formState(){return t},set _formState(r){t=r},get _options(){return s},set _options(r){s={...s,...r}}},trigger:fe,register:pe,handleSubmit:Qe,watch:pt,setValue:W,getValues:$e,reset:Ye,resetField:It,clearErrors:Rt,unregister:Re,setError:ze,setFocus:(r,a={})=>{const u=d(l,r),y=u&&u._f;if(y){const c=y.refs?y.refs[0]:y.ref;c.focus&&(c.focus(),a.shouldSelect&&c.select())}},getFieldState:Ke}}function vr(e={}){const s=D.useRef(),t=D.useRef(),[l,i]=D.useState({isDirty:!1,isValidating:!1,isLoading:ie(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ie(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...ur(e),formState:l});const n=s.current.control;return n._options=e,Be({subject:n._subjects.state,next:f=>{mt(f,n._proxyFormState,n._updateFormState,!0)&&i({...n._formState})}}),D.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),D.useEffect(()=>{if(n._proxyFormState.isDirty){const f=n._getDirty();f!==l.isDirty&&n._subjects.state.next({isDirty:f})}},[n,l.isDirty]),D.useEffect(()=>{e.values&&!ae(e.values,t.current)?(n._reset(e.values,n._options.resetOptions),t.current=e.values,i(f=>({...f}))):n._resetDefaultValues()},[e.values,n]),D.useEffect(()=>{e.errors&&n._setErrors(e.errors)},[e.errors,n]),D.useEffect(()=>{n._state.mount||(n._updateValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),D.useEffect(()=>{e.shouldUnregister&&n._subjects.values.next({values:n._getWatch()})},[e.shouldUnregister,n]),s.current.formState=Ft(l,n),s.current}export{yr as C,Bt as F,ht as I,jt as a,Ht as b,Yt as c,Wt as d,d as g,k as s,vr as u};
